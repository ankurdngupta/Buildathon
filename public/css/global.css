/* Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
    /* Color Palette - Clean Tech / Medical */
    --bg-color: #FFFFFF;
    --bg-secondary: #F5F7FA;
    --accent-color: #0056D2;
    /* Deep Royal Blue */
    --accent-hover: #0044A5;
    --text-color: #1E293B;
    /* Dark Slate */
    --text-muted: #64748B;
    /* Cool Grey */
    --border-color: #E2E8F0;

    /* Functional */
    --success-color: #10B981;
    --error-color: #EF4444;
    --warning-color: #F59E0B;

    /* Layout & Spacing */
    --container-max: 1200px;
    --border-radius: 12px;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

    /* Typography - Modular Scale (1.2) */
    --font-primary: 'Inter', sans-serif;
    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-primary);
    background-color: var(--bg-secondary);
    color: var(--text-color);
    line-height: 1.6;
    overflow-x: hidden;
}

h1,
h2,
h3,
h4 {
    font-family: var(--font-primary);
    color: var(--text-color);
    font-weight: 700;
    line-height: 1.2;
}

h1 {
    font-size: var(--text-4xl);
}

h2 {
    font-size: var(--text-2xl);
    margin-bottom: 24px;
}

h3 {
    font-size: var(--text-lg);
}

/* --- Layout --- */
.app-container {
    max-width: var(--container-max);
    margin: 0 auto;
    padding: 100px 24px 40px;
    /* Top padding for fixed header */
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* --- Header / Navbar --- */
header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: 72px;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-color);
    z-index: 1000;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 32px;
    box-shadow: var(--shadow-sm);
}

.logo {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1.25rem;
    font-weight: 700;
    color: var(--accent-color);
}

.logo i {
    font-size: 1.5rem;
}

.nav-center {
    flex: 1;
    display: flex;
    justify-content: center;
    gap: 16px;
    max-width: 600px;
    margin: 0 24px;
}

.search-bar {
    flex: 1;
    position: relative;
    max-width: 400px;
}

.search-bar input {
    width: 100%;
    height: 40px;
    border-radius: 9999px;
    /* Pill */
    border: 1px solid var(--border-color);
    padding: 0 40px 0 20px;
    font-size: var(--text-sm);
    background: var(--bg-secondary);
    transition: all 0.2s;
    outline: none;
}

.search-bar input:focus {
    background: #fff;
    border-color: var(--accent-color);
    box-shadow: 0 0 0 3px rgba(0, 86, 210, 0.1);
}

.search-icon {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--text-muted);
}

.nav-actions {
    display: flex;
    align-items: center;
    gap: 20px;
}

.nav-icon-btn {
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 1.2rem;
    cursor: pointer;
    position: relative;
    transition: color 0.2s;
}

.nav-icon-btn:hover {
    color: var(--accent-color);
}

.avatar {
    width: 36px;
    height: 36px;
    background: linear-gradient(135deg, #0056D2, #60A5FA);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
}

/* --- Hero Section (Clean) --- */
.hero {
    text-align: center;
    padding: 80px 0 60px;
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-sm);
    margin-bottom: 40px;
    border: 1px solid var(--border-color);
}

.hero h1 {
    color: var(--text-color);
    margin-bottom: 16px;
    letter-spacing: -0.02em;
}

.hero .subtitle {
    font-size: var(--text-lg);
    color: var(--text-muted);
    max-width: 600px;
    margin: 0 auto 40px;
    font-weight: 400;
}

/* --- Buttons --- */
.cta-btn {
    background-color: var(--accent-color);
    color: white;
    padding: 12px 28px;
    border-radius: 8px;
    /* Slightly squarer than pill */
    font-weight: 600;
    font-size: var(--text-base);
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 4px 6px -1px rgba(0, 86, 210, 0.2);
}

.cta-btn:hover {
    background-color: var(--accent-hover);
    transform: translateY(-1px);
    box-shadow: 0 6px 8px -1px rgba(0, 86, 210, 0.3);
}

/* --- Insight Card --- */
/* Grid definition moved to media queries for strict responsive control */
.cards-grid {
    display: grid;
    /* grid-template-columns set in media queries */
    gap: 2rem;
    /* 32px */
    padding-bottom: 60px;
}

.movie-card {
    background: var(--bg-color);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-sm);
    transition: all 0.2s ease;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 100%;
    cursor: pointer;
}

.movie-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: #CBD5E1;
}

.movie-card img {
    width: 100%;
    aspect-ratio: 2/3;
    object-fit: cover;
    background: var(--bg-secondary);
}

.card-content {
    padding: 1.5rem;
    /* 24px */
    flex: 1;
    display: flex;
    flex-direction: column;
}

.movie-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 4px;
    color: var(--text-color);
}

.movie-meta {
    font-size: 0.9rem;
    color: var(--text-muted);
    margin-bottom: 12px;
}

.reason {
    font-size: 0.9rem;
    color: var(--text-color);
    line-height: 1.5;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.insight-card {
    background: var(--bg-color);
    border-radius: var(--border-radius);
    border: 1px solid var(--border-color);
    box-shadow: var(--shadow-sm);
    transition: all 0.2s ease;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    height: 100%;
}

.insight-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: #CBD5E1;
}

.card-header {
    padding: 24px 24px 16px;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.card-title-group h3 {
    margin-bottom: 4px;
    color: var(--accent-color);
}

.card-meta {
    font-size: var(--text-sm);
    color: var(--text-muted);
    font-weight: 500;
}

.match-badge {
    background: #DCFCE7;
    /* Light Green */
    color: #166534;
    /* Dark Green */
    padding: 4px 10px;
    border-radius: 9999px;
    font-size: var(--text-xs);
    font-weight: 700;
    letter-spacing: 0.02em;
}

.card-body {
    padding: 24px;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.insight-block {
    margin-bottom: 8px;
}

.insight-label {
    text-transform: uppercase;
    font-size: 0.7rem;
    font-weight: 700;
    letter-spacing: 0.05em;
    color: var(--text-muted);
    margin-bottom: 6px;
}

.insight-text {
    font-size: 0.95rem;
    color: var(--text-color);
    line-height: 1.6;
}

/* --- Skeleton Loader (Shimmer) --- */
.skeleton {
    background: #f6f7f8;
    background-image: linear-gradient(to right,
            #f6f7f8 0%,
            #edeef1 20%,
            #f6f7f8 40%,
            #f6f7f8 100%);
    background-repeat: no-repeat;
    background-size: 200% 100%;
    /* Wider than element to allow movement */
    display: inline-block;
    position: relative;
    overflow: hidden;
    animation: shimmer 1.5s infinite linear;
    border-radius: 6px;
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
        /* Start far left */
    }

    100% {
        background-position: 200% 0;
        /* Move to far right */
    }
}

.skeleton-card {
    background: white;
    border-radius: var(--border-radius);
    padding: 24px;
    border: 1px solid var(--border-color);
    height: 300px;
}

.skeleton-title {
    height: 24px;
    width: 60%;
    margin-bottom: 20px;
}

.skeleton-text {
    height: 16px;
    width: 100%;
    margin-bottom: 10px;
}

.skeleton-block {
    height: 80px;
    width: 100%;
    margin-top: 20px;
    border-radius: 8px;
}

/* --- Quick Moods --- */
.quick-moods {
    display: flex;
    gap: 12px;
    justify-content: center;
    margin-top: 32px;
    flex-wrap: wrap;
    /* Ensure they wrap on small mobile screens */
}

.mood-tag {
    background: white;
    border: 1px solid var(--border-color);
    color: var(--text-color);
    padding: 8px 20px;
    border-radius: 9999px;
    font-weight: 500;
    transition: all 0.2s;
    cursor: pointer;
    font-size: var(--text-sm);
}

.mood-tag:hover,
.mood-tag.active {
    border-color: var(--accent-color);
    color: var(--accent-color);
    background: #eff6ff;
}

/* --- Empty States --- */
.empty-state {
    text-align: center;
    padding: 80px 20px;
    color: var(--text-color);
    display: none;
    /* Hidden by default */
}

.empty-state i {
    font-size: 3rem;
    color: var(--text-muted);
    margin-bottom: 20px;
    opacity: 0.5;
}

.empty-state h3 {
    margin-bottom: 8px;
    color: var(--text-color);
}

.empty-state p {
    color: var(--text-muted);
    margin-bottom: 24px;
}

/* --- Image Fallback Helper --- */
img.broken-image {
    background-color: var(--bg-secondary);
    position: relative;
    object-fit: contain;
    padding: 20px;
}

img.broken-image::after {
    content: 'Image Unavailable';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--text-muted);
    font-size: 0.8rem;
}

/* --- Mobile Responsiveness --- */

/* Mobile Menu Button - Hidden on Desktop */
.mobile-menu-btn {
    display: none;
    background: none;
    border: none;
    font-size: 1.5rem;
    color: var(--text-color);
    cursor: pointer;
    z-index: 1002;
    padding: 8px;
}

/* Mobile Navigation Overlay */
.mobile-nav-overlay {
    display: none;
    position: fixed;
    top: 72px;
    /* Below header */
    left: 0;
    width: 100%;
    height: calc(100vh - 72px);
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(10px);
    z-index: 999;
    flex-direction: column;
    padding: 32px 24px;
    gap: 16px;
    border-top: 1px solid var(--border-color);
}

.mobile-nav-overlay.active {
    display: flex;
}

.mobile-nav-link {
    font-size: 1.5rem;
    /* Larger touch targets */
    font-weight: 600;
    color: var(--text-color);
    text-decoration: none;
    padding: 16px 0;
    border-bottom: 1px solid var(--bg-secondary);
    transition: color 0.2s;
}

.mobile-nav-link:hover {
    color: var(--accent-color);
}

.mobile-nav-link.active {
    color: var(--accent-color);
    position: relative;
}

.mobile-nav-link.active::before {
    content: '';
    position: absolute;
    left: -24px;
    top: 50%;
    transform: translateY(-50%);
    width: 4px;
    height: 60%;
    background: var(--accent-color);
    border-radius: 0 4px 4px 0;
}

/* Desktop Navigation Links */
.nav-links {
    display: flex;
    gap: 24px;
    align-items: center;
}

.nav-link {
    text-decoration: none;
    color: var(--text-muted);
    font-weight: 500;
    font-size: var(--text-sm);
    transition: color 0.2s;
}

.nav-link:hover,
.nav-link.active {
    color: var(--accent-color);
}


/* Media Queries */
@media (max-width: 768px) {

    /* Typography Scaling */
    h1 {
        font-size: 2rem;
        /* Was 2.25rem */
    }

    h2 {
        font-size: 1.5rem;
        /* Was 1.5rem, maybe scale slightly if needed */
    }

    /* Header Adjustments */
    header {
        padding: 0 16px;
    }

    /* Hide standard nav elements on mobile */
    .nav-center,
    .nav-actions {
        display: none;
    }

    /* Show Mobile Menu Button */
    .mobile-menu-btn {
        display: block;
    }

    /* Layout */
    .app-container {
        padding: 80px 16px 40px;
        /* Reduced side padding */
    }

    /* Grid Layout - 1 Column */
    .cards-grid {
        grid-template-columns: 1fr;
        /* Force 1 column on mobile */
        gap: 24px;
    }

    .hero {
        padding: 40px 16px;
    }

    .hero .subtitle {
        font-size: 1rem;
    }

    /* Adjust Search Bar in Mobile Overlay if we move it there, 
       but for now we are just collapsing links as requested. 
       The user said "Connect the Search Bar" later. 
       For step 1, we focus on layout. 
    */
}

@media (min-width: 769px) {
    .cards-grid {
        grid-template-columns: repeat(4, 1fr);
        /* Force 4 columns on desktop */
    }
}